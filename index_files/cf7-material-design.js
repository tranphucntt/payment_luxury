(function($){$(document).ready(function(){window.cf7mdId=0;$('.cf7md-form').each(function(){var $this=$(this);$this.siblings('p').add($this.find('p')).filter(function(){return $.trim(this.innerHTML)==""}).remove();$('.cf7md-text, .cf7md-textarea').find('.wpcf7-validates-as-required').each(function(){$(this).attr('required','required');});});$('.cf7md-item').each(function(){var $this=$(this),$span=$this.find('.wpcf7-form-control-wrap');$this.find('br').remove();$span.addClass('mdc-form-field cf');});$('.cf7md-text, .cf7md-textarea').each(function(){var $this=$(this),$input=$this.find('input, textarea'),$span=$this.find('.wpcf7-form-control-wrap'),$tpl=$this.find('.cf7md-text-html').find('> div'),$label=$tpl.find('label');$input.detach().prependTo($tpl);$tpl.detach().appendTo($span);$input.addClass('mdc-textfield__input');$label.attr('for',$input.attr('name'));if($this.hasClass('cf7md-textarea-autosize')){$input.attr('rows','2');autosize($input);}});$('.cf7md-text [type="date"]').each(function(){var $this=$(this);$this.change(function(){if($this.val()!==''){$this.addClass('cf7md-has-input');}else{$this.removeClass('cf7md-has-input');}});});$('.cf7md-select').each(function(){var $this=$(this),$select=$this.find('select'),label=$this.find('.cf7md-select-label').text(),$option1=$select.children('option').first();if($select.hasClass('wpcf7-validates-as-required')){label+='*';}if($this.hasClass('cf7md-select--multi')){$select.addClass('mdc-multi-select mdc-list');$select.attr('size','5');}else{$select.addClass('mdc-select');if($option1.attr('value')===''){$option1.text(label);}else{$option1.before('<option default selected value="">'+label+'</option>');}}});$('.cf7md-checkbox, .cf7md-radio').each(function(){var $this=$(this),type=$this.hasClass('cf7md-radio')?'radio':'checkbox',$items=$this.find('.wpcf7-list-item'),tpl=$this.find('.cf7md-'+type+'-html').html();$items.each(function(){var $item=$(this),$checkbox=$item.find('input'),$label=$item.find('.wpcf7-list-item-label'),$labelWrap=$label.parents('label'),label=$label.text(),$html=$(tpl).clone(),$wrap=$('<div class="mdc-'+type+'"></div>'),mdcCheckbox=$wrap[0],id='cf7md'+ ++cf7mdId;$checkbox.addClass('mdc-'+type+'__native-control').attr('id',id);$item.addClass('cf7md-'+type+'-item mdc-form-field cf');$item.append($wrap);$label.remove();$labelWrap.remove();$checkbox.detach().appendTo($wrap);$wrap.append($html);$wrap.after('<label class="cf7md-'+type+'-label" for="'+id+'">'+label+'</label>');});});$('.cf7md-switch').each(function(){var $this=$(this),type='switch',$items=$this.find('.wpcf7-list-item'),tpl=$this.find('.cf7md-switch-html').html();$items.each(function(){var $item=$(this),$checkbox=$item.find('input'),$label=$item.find('.wpcf7-list-item-label'),$labelWrap=$label.parents('label'),label=$label.text(),$html=$(tpl).clone(),$switch_wrap=$html.find('.mdc-switch'),id='cf7md'+ ++cf7mdId,$newlabel=$('<label for="'+id+'" class="cf7md-switch-label">'+label+'</label>');$checkbox.addClass('mdc-'+type+'__native-control').attr('id',id);$item.addClass('cf7md-'+type+'-item cf');$item.append($html);$checkbox.detach().prependTo($switch_wrap);$newlabel.appendTo($html);$label.remove();});});$('.cf7md-accept').each(function(){var $this=$(this),$form=$this.closest('#cf7md-form'),$span=$this.find('.wpcf7-form-control-wrap'),$checkbox=$this.find('input'),$tpl=$this.find('.cf7md-checkbox-html').find('> div'),$wrap=$('<div class="mdc-checkbox"></div>'),$label=$this.find('.cf7md-accept-label'),id='cf7md'+ ++cf7mdId;$span.addClass('mdc-form-field');$checkbox.addClass('mdc-checkbox__native-control').attr('id',id);$span.append($wrap);$checkbox.detach().appendTo($wrap);$wrap.append($tpl);$label.attr('for',id);$label.detach().insertAfter($wrap);$checkbox.click(function(){toggleSubmit($form);});});function toggleSubmit($form){var $acceptances=$form.find('input:checkbox.wpcf7-acceptance'),$submit=$form.find('.cf7md-submit-btn');$submit.removeAttr('disabled');$acceptances.each(function(i,node){$this=$(node);if($this.hasClass('wpcf7-invert')&&$this.is(':checked')||!$this.hasClass('wpcf7-invert')&&!$this.is(':checked')){$submit.attr('disabled','disabled');}});}$('.cf7md-file').each(function(){var $this=$(this),$file=$this.find('[type="file"]'),$value=$this.find('.cf7md-file--value'),$btn=$this.find('.cf7md-file--btn'),$label=$this.find('.cf7md-label--static'),$wrap=$this.find('.cf7md-file--label'),$error=$this.find('.wpcf7-not-valid-tip');$error.detach().insertAfter($wrap);$value.css({paddingLeft:$btn.outerWidth()+12+'px',top:$btn.outerHeight()/2+'px'});if($file.val()){fileName=$file.val().split('\\').pop();$value.text(fileName);}$file.on('change',function(e){if(e.target.value){fileName=e.target.value.split('\\').pop();$value.text(fileName);}});});function cf7mdQuiz(refresh){$('.cf7md-quiz').each(function(){var $this=$(this),$input=$this.find('.wpcf7-quiz'),$newInput=$input.clone(),$span=$this.find('.wpcf7-form-control-wrap'),$tpl=$this.find('.mdc-textfield'),$label=$tpl.find('label'),$question=$this.find('.wpcf7-quiz-label'),$cf7label=$span.find('> label');$label.attr('for',$input.attr('name'));$label.text($question.text());$question.hide();$input.detach().prependTo($tpl);$question.detach().prependTo($tpl);$tpl.detach().appendTo($span);$input.addClass('mdc-textfield__input');$cf7label.hide();});}cf7mdQuiz(false);$(window).on('wpcf7submit',function(e){cf7mdQuiz(true);});$('.cf7md-submit').each(function(){var $this=$(this),$form=$this.closest('#cf7md-form'),$inputs=$this.find('input, button');$inputs.each(function(){var $input=$(this),$val=$input.is('input')?$input.attr('value'):$input.text(),$svg=$this.find('svg'),$btn=$('<button>'+$val+'</button>');$btn.addClass($input[0].className);$btn.attr('id',$input.attr('id'));$btn.attr('type',$input.attr('type'));$btn.attr('data-mdc-auto-init','MDCRipple');$btn.addClass('cf7md-submit-btn mdc-button mdc-button--raised mdc-button--primary mdc-ripple-surface');$input.replaceWith($btn);if($input.attr('type')==='submit'){toggleSubmit($form);$btn.click(function(){var $spinner=$(this).parents('.cf7md-submit').find('.ajax-loader');$svg.detach().appendTo($spinner);});}});});setTimeout(function(){$('.mdc-textfield').each(function(){var $label=$(this).find('.mdc-textfield__label'),$field=$(this).find('.mdc-textfield__input'),val=$field.val();if(val){$label.addClass('mdc-textfield__label--float-above');}});},200);function conditionalFieldGroupToggled(event){$('.cf7md-file').each(function(){var $this=$(this),$file=$this.find('[type="file"]'),$value=$this.find('.cf7md-file--value'),$btn=$this.find('.cf7md-file--btn');$value.css({paddingLeft:$btn.outerWidth()+12+'px',top:$btn.outerHeight()/2+'px'});});}var MutationObserver=(function(){var prefixes=['WebKit','Moz','O','Ms','']
for(var i=0;i<prefixes.length;i++){if(prefixes[i]+'MutationObserver'in window){return window[prefixes[i]+'MutationObserver'];}}return false;}());if(MutationObserver){var groups=$('[data-class="wpcf7cf_group"]')
groups.each(function(i,element){var observer=new MutationObserver(conditionalFieldGroupToggled);observer.observe(element,{attributes:true,attributeFilter:['class'],childList:false,characterData:false});})}if(typeof ajax_object!=='undefined'){$('.cf7md-hide-customize-message').click(function(e){e.preventDefault();$(this).closest('.cf7md-admin-customize-message').hide();$.post(ajax_object.ajax_url,{action:'cf7md_close_customize_link'},function(response){console.log('Close link response: ',response)});});}window.mdc.autoInit();});}(jQuery));